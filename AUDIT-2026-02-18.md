# Repository Audit - 2026-02-18

**Status:** ✅ Functional, but needs cleanup. ~60% cruft to remove.

---

## Critical Issues (Fix Now)

### 1. AGENTS.md is Corrupted
**Issue:** AGENTS.md contains a mix of jett-system guidelines + clawd-slack workspace guides
**Impact:** Confusing for agents, conflicting instructions
**Fix:** 
- Split into two separate files:
  - `AGENTS.md` (jett-system specific workflow)
  - `WORKSPACE-GUIDE.md` (references to clawd-slack, memory, etc.)

**Action Required:** I'll rebuild AGENTS.md to be jett-system only

---

### 2. eBay Scanner Submodule Issue
**Issue:** ebay-scanner folder has its own `.git/` directory, but no `.gitmodules` file
**Status:** Git sees it as a submodule reference, but configuration is missing
**Current State:**
- `ebay-scanner/.git/` exists (24 MB, full repo inside)
- No `.gitmodules` file in parent
- `git status` reports: `modified: ebay-scanner (modified content, untracked content)`

**Fix Options:**
1. **Proper Submodule (Recommended):** Convert to formal git submodule with `.gitmodules`
   ```bash
   git rm --cached ebay-scanner
   git submodule add https://github.com/[user]/ebay-scanner.git ebay-scanner
   git commit -m "Convert: ebay-scanner to proper git submodule"
   ```

2. **Inline (Alternative):** Remove `.git` from ebay-scanner and track files directly
   ```bash
   rm -rf ebay-scanner/.git
   git add ebay-scanner
   git commit -m "Convert: ebay-scanner to inline folder"
   ```

**My Recommendation:** Use Option 1 (proper submodule) — keeps ebay-scanner independent, easier to update

---

### 3. AGENTS.md Contains Clawd-Slack Context (SECURITY ISSUE)
**Severity:** Medium
**Issue:** The AGENTS.md file includes instructions that reference:
- `/home/clawd/clawd/` paths
- ClawdBot-specific tools
- Clawd-slack workspace files
- Memory files from clawd-slack

**This is wrong.** The jett-system repo should be self-contained and not reference clawd-slack internals.

**Fix:** Extract clawd-slack references into separate docs or external references

---

## Major Cleanup Needed

### Root Directory Clutter (90+ files)

**Issue:** Root contains 90+ documentation files, many are:
- Historical task completion logs
- Status reports from specific dates
- Obsolete workflow documents

**Examples of files to archive:**
- `BOOT.md`, `BOTH-RESEARCH-AUTOMATIONS-READY.md`, `CLAUDE-CODE-TASK-RESEARCH-SYSTEM.md`
- `CRON-JOBS-INSTALLED.md`, `DATABASE-INTEGRATION-COMPLETE.md`
- `GOOD-MORNING.md`, `GOOD-MORNING-UPDATE.md`
- `MIGRATION-ISSUES-FIXED.md`, `OVERNIGHT-BUILD-SUMMARY.md`
- All files with date-specific names (JETT-UPDATE-2026-02-09.md, etc.)
- All "COMPLETED", "READY", "FINAL", "SUMMARY" files

**Action:** Move to `docs/archive/` folder

**Active docs to keep at root:**
- `README.md`
- `CHANGELOG.md`
- `AGENTS.md` (once fixed)
- `PRINCIPLES.md`
- `SYSTEM-HARDENING.md`
- `SYSTEMS.md`
- `SOUL.md`
- `USER.md`
- `TOOLS.md`
- `IDENTITY.md`
- `HEARTBEAT.md`

---

### Binary Files (Remove)

These should NOT be in a Git repo:

| File | Size | Action |
|------|------|--------|
| `blue-label-jersey.jpg` | 662 KB | ❌ Remove |
| `Level-Up-Investor-Deck.pdf` | 101 KB | ❌ Remove |
| `ebay-raw.json` | 2.6 MB | ⚠️ Review (if needed for tests, move to `data/test-fixtures/`) |
| `ebay-test.png` | 663 KB | ❌ Remove |
| `level-up-investor-deck.html` | 10 KB | ⚠️ Check if still used |
| `slack-bridge-processed.json` | 6 KB | ⚠️ Check if still used |

**Action:** Add to `.gitignore` and remove from git history

---

### Test & Script Clutter (Root Level)

**Files scattered at root that belong in `tests/` or `scripts/`:**
- `test_db.py` → `tests/`
- `test_ebay_deals.py` → `tests/`
- `test_llm_router.py` → `tests/`
- `test-optimization.sh` → `tests/`
- `test-file-upload.sh` → `tests/`
- `test-upload.txt` → `tests/`
- `test_output.json` → `tests/` or delete

**Automation scripts at root:**
- `llm_router.py` → check if in `lib/` or `automation/` already; if duplicate, remove
- `llm-bridge.js` → check for duplicate in `lib/`
- `usage_tracker.py` → `scripts/` or `lib/`
- `usage_dashboard.py` → `scripts/` or `lib/`
- `migrate_markdown.py` → `scripts/archive/` (probably historical)

---

### Config & Example Files

**Unused or Duplicate:**
- `optimize.config.json` — Is this still used? Check
- `examples/` — What's in here? Review for relevance
- `ebay_deals_quickref.py` — Duplicate of something in ebay-scanner?
- `ebay_scanner_integration.py` — Duplicate? Check
- `add_ebay_table.py` — Database setup? Should be in `scripts/` or `automation/`
- `init_db.py` — Should be in `scripts/`
- `jett_db.py`, `jett_db_examples.py` — Should be in `lib/` if still used

---

### Directory Structure Issues

**Recommendation:** Clean up folder organization

Current problematic structure:
```
~/jett-system/
├── 90+ .md files (ROOT CLUTTER)
├── test_*.py files (should be in tests/)
├── *.sh files (should be organized)
├── python scripts at root (should be in scripts/)
├── ebay-scanner/ (needs submodule fix)
├── node_modules/ (should be .gitignored if huge)
└── ... various folders
```

**Proposed structure:**
```
~/jett-system/
├── README.md, CHANGELOG.md, AGENTS.md, PRINCIPLES.md
├── SYSTEM-HARDENING.md, SYSTEMS.md, SOUL.md, USER.md, TOOLS.md
├── docs/
│   ├── archive/  (old task reports, historical docs)
│   ├── quickstart/
│   └── architecture/
├── automation/  (existing - good)
├── skills/  (existing - good)
├── scripts/  (existing - improve organization)
├── tests/  (reorganize test files here)
├── config/  (existing - good)
├── lib/  (move utility scripts here)
├── data/  (move test fixtures, examples here)
└── [keep other functional folders]
```

---

## Code Quality Issues

### 1. `.gitignore` Review Needed
**Status:** Needs verification
**Concerns:**
- Are all sensitive files (.env, secrets, etc.) ignored?
- Is `node_modules/` properly ignored?
- Are log files ignored?
- Are compiled/cache files ignored?

**Action:** Review and update `.gitignore`

---

### 2. Git History Cleanup
**Issue:** If large files were accidentally committed, history is bloated

**Check:**
```bash
git rev-list --all --objects | sort -k2 | tail -20
# Shows largest objects in history
```

**If problematic:**
```bash
git filter-branch --tree-filter 'rm -f [filename]' HEAD
```

---

## What's Working Well ✅

- **Core docs structure** (README, CHANGELOG, AGENTS, PRINCIPLES)
- **Directory organization** (automation/, skills/, scripts/, config/, lib/)
- **Git is initialized** (proper remote tracking)
- **Workflow documented** (though mixed in with clawd-slack stuff)

---

## Summary of Actions

### Immediate (Before Next Session)
- [ ] Fix AGENTS.md (split clawd-slack context out)
- [ ] Initialize ebay-scanner as proper submodule (run git submodule init)
- [ ] Create docs/archive/ folder and move 90+ historical files there
- [ ] Update .gitignore for binary files

### Within This Session
- [ ] Move test files to tests/
- [ ] Move root-level scripts to scripts/ or lib/
- [ ] Clean up duplicate files
- [ ] Review and document what each tool/utility does

### Before First Major Change
- [ ] Run git garbage collection (cleanup history)
- [ ] Verify .gitignore is comprehensive
- [ ] Create docs/STRUCTURE.md explaining folder organization

---

## Git Submodule Fix (Do This Now)

**Current state:** ebay-scanner is flagged as modified
**Root cause:** Missing `.gitmodules` file

**To fix:**
```bash
cd ~/jett-system

# Option 1: Initialize the submodule properly
git submodule update --init --recursive

# Option 2: If that fails, re-add properly
git rm --cached ebay-scanner
git submodule add https://github.com/[owner]/ebay-scanner.git ebay-scanner
git commit -m "Fix: properly configure ebay-scanner as git submodule"
```

**After fix:**
- `git status` should show clean
- `git submodule status` should work
- `.gitmodules` file will exist

---

## Questions for Terry

1. **ebay-scanner submodule:** Should I convert it to proper submodule, or inline it?
2. **Binary files:** Can these be deleted, or do you reference them in active workflows?
3. **Historical docs:** Should I archive all the task reports, or delete them?
4. **AGENTS.md split:** Should workspace-general info go in a separate file?
5. **Node modules:** Is `node_modules/` intentionally committed, or should it be .gitignored?

---

**Status:** Ready to clean up once you confirm approach.
